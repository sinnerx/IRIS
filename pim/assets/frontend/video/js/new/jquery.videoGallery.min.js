(function(e){function z(a,b){function f(a){if(c._componentInited&&!c._playlistTransitionOn&&!c.volumebarDown){if(!c.seekBarDown){if(u){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();c.seekBarDown=!0;c._doc.bind(w,function(a){a:{var b;if(u){if(a.originalEvent.touches&&a.originalEvent.touches.length)b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=a.originalEvent.changedTouches;else break a;if(1<b.length)break a; b=b[0]}else b=a;a.preventDefault();l(b.pageX)}});c._doc.bind(x,function(a){a:if(c.seekBarDown){c.seekBarDown=!1;c._doc.unbind(w).unbind(x);var b;if(u){if(a.originalEvent.touches&&a.originalEvent.touches.length)b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=a.originalEvent.changedTouches;else break a;if(1<b.length)break a;b=b[0]}else b=a;a.preventDefault();l(b.pageX)}})}return!1}}function l(a){a-=c.progress_bg.offset().left;0>a?a=0:a>c.seekBarSize&& (a=c.seekBarSize);c.progress_level.width(a);a=Math.max(0,Math.min(1,a/c.seekBarSize));if(c.html5Support){a=(a*c.videoUp2Js.duration).toFixed(1);try{c.videoUp2Js.currentTime=a}catch(b){}}}function g(){c.videoInited&&(c.player_progress_tooltip.css("display","block"),c.player_progress.bind("mousemove",k).bind("mouseout",h),c._doc.bind("mouseout",h))}function h(){c.videoInited&&(c.player_progress_tooltip.css("display","none"),c.player_progress.unbind("mousemove",k).unbind("mouseout",h),c._doc.unbind("mouseout", h))}function k(a){a=a.pageX-c.player_progress.offset().left;0>a?a=0:a>c.seekBarSize&&(a=c.seekBarSize);var b=a+parseInt(c.player_progress.css("left"),10)-c.player_progress_tooltip.width()/2;c.player_progress_tooltip.css("left",b+"px");a=Math.max(0,Math.min(1,a/c.seekBarSize));if(c.html5Support){a*=c.videoUp2Js.duration;if(isNaN(a))return;c.player_progress_tooltip_value.html(c.formatCurrentTime(a)+c.formatDuration(c.videoUp2Js.duration))}a=c.player_progress_tooltip.width()/2-c.player_progress_tooltip_value.width()/ 2;c.player_progress_tooltip_value.css("left",a+"px")}function m(a){if(c._componentInited&&!c._playlistTransitionOn&&!c.seekBarDown){if(!c.volumebarDown){if(u){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();c.volumebarDown=!0;c._doc.bind(w,function(a){a:{var b;if(u){if(a.originalEvent.touches&&a.originalEvent.touches.length)b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=a.originalEvent.changedTouches;else break a; if(1<b.length)break a;b=b[0]}else b=a;a.preventDefault();p(b.pageX)}});c._doc.bind(x,function(a){a:if(c.volumebarDown){c.volumebarDown=!1;c._doc.unbind(w).unbind(x);var b;if(u){if(a.originalEvent.touches&&a.originalEvent.touches.length)b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=a.originalEvent.changedTouches;else break a;if(1<b.length)break a;b=b[0]}else b=a;a.preventDefault();p(b.pageX);0==c.defaultVolume?(c.player_volume.find("img").attr("src", c.ic_mute),c.videoUp2Js.muted=!0):0<c.defaultVolume&&(c.player_volume.find("img").attr("src",c.ic_volume),c.videoUp2Js.muted=!1)}})}return!1}}function p(a){c.defaultVolume=Math.max(0,Math.min(1,(a-c.volume_bg.offset().left)/c.volumeSize));c._setVolume()}function n(){c.videoInited&&(c.player_volume_tooltip.css("display","block"),c.volume_seekbar.bind("mousemove",r).bind("mouseout",v),c._doc.bind("mouseout",v))}function v(){c.videoInited&&(c.player_volume_tooltip.css("display","none"),c.volume_seekbar.unbind("mousemove", r).unbind("mouseout",v),c._doc.unbind("mouseout",v))}function r(a){a=a.pageX-c.volume_bg.offset().left;0>a?a=0:a>c.volumeSize&&(a=c.volumeSize);var b=parseInt(c.playerControls.css("width"),10)+a-parseInt(c.volume_seekbar.css("right"),10)-parseInt(c.volume_seekbar.css("width"),10)+parseInt(c.volume_bg.css("left"),10)-c.player_volume_tooltip.width()/2;c.player_volume_tooltip.css("left",b+"px");a=Math.max(0,Math.min(1,a/c.volumeSize));a=parseInt(100*a,10);c.player_volume_tooltip_value.html(a+" %");a= c.player_volume_tooltip.width()/2-c.player_volume_tooltip_value.width()/2;c.player_volume_tooltip_value.css("left",a+"px")}function B(){c._playlistTransitionOn||(c.transitionFinishIntervalID&&clearInterval(c.transitionFinishIntervalID),c.addressTimeoutID&&clearTimeout(c.addressTimeoutID),c.onChange(c._externalChangeEvent))}function z(){c.addressTimeoutID&&clearTimeout(c.addressTimeoutID);c.onChange(c._externalChangeEvent)}var c=this;this.baseURL=window.location.href;this.settings=e.extend({},e.fn.videoGallery.defaults, b);this.useRollovers=(this.isMobile=isMobile)?!1:!0;this.isIE=isIE;this.ieBelow9=ieBelow9;this.isSafari=isSafari;this.ic_volume="data/icons/volume.png";this.ic_volume_on="data/icons/volume_on.png";this.ic_mute="data/icons/mute.png";this.ic_mute_on="data/icons/mute_on.png";this.ic_pause="data/icons/pause.png";this.ic_pause_on="data/icons/pause_on.png";this.ic_play="data/icons/play.png";this.ic_play_on="data/icons/play_on.png";this.ic_fullscreen_enter="data/icons/fullscreen_enter.png";this.ic_fullscreen_enter_on= "data/icons/fullscreen_enter_on.png";this.ic_fullscreen_exit="data/icons/fullscreen_exit.png";this.ic_fullscreen_exit_on="data/icons/fullscreen_exit_on.png";this.ic_player_prev="data/icons/v_prev.png";this.ic_player_prev_on="data/icons/v_prev_on.png";this.ic_player_next="data/icons/v_next.png";this.ic_player_next_on="data/icons/v_next_on.png";this.ic_w_play="data/icons/w_play.png";this.ic_w_pause="data/icons/w_pause.png";this._componentInited=!1;this._body=e("body");this.bodyOverflowOrig=this._body.css("overflow"); this._window=e(window);this._doc=e(document);this._windowResizeInterval=100;this._windowResizeIntervalID;this._mediaPath;this._mediaType;this.preserveInsert=!1;this.preserveInsert_item;this._vimeoPlayer;this._youtubePlayer;this._youtubeChromeless=this._youtubeInited=this._vimeoInited=!1;this.scrollPane;this.scrollPaneApi;this.currentThumb;this.currentInfo;this._descriptionDataArr=[];this._processPlaylistLength;this._currentInsert;this.lastPlaylist;this._processPlaylistCounter=-1;this.liProcessArr= [];this._playlistArr=[];this.vimeoTypeArr=["vimeo_single","vimeo_user","vimeo_group","vimeo_channel","vimeo_album"];this.youtubeTypeArr="youtube_single youtube_playlist youtube_user_favourites youtube_user_uploads youtube_video_query youtube_playlist_query youtube_standard_feed youtube_user_videos youtube_channel_query youtube_user_playlists".split(" ");this._videoProcessData=[];this._playlistQueryCounter=0;this._playlistQueryUrl=[];this._playlistQueryLength;this.ytType;this.currentObj;this._playlistLength; this._playlistTransitionOn=!1;this.playlistPosition=this.settings.playlistPosition;this.initialAutoplay=this.vim_autoPlay=this.yt_autoPlay=this.autoPlay=this.settings.autoPlay;this.useYoutubeHighestQuality=this.settings.useYoutubeHighestQuality;this._autoAdvanceToNextVideo=this.settings.autoAdvanceToNextVideo;this.fullSize=this.settings.fullSize;this.outputPlaylistData=this.settings.outputPlaylistData;this.margin_size=0;this.autoMakePlaylistInfo=this.settings.autoMakePlaylistInfo;this.autoMakePlaylistThumb= this.settings.autoMakePlaylistThumb;this.randomPlay=this.settings.randomPlay;this.loopingOn=this.settings.loopingOn;this._activePlaylist=this.settings.activePlaylist;this.defaultVolume=this.settings.defaultVolume;0>this.defaultVolume?this.defaultVolume=0:1<this.defaultVolume&&(this.defaultVolume=1);this._thumbOrientation=this.settings.thumbOrientation;this.componentWrapper=e(a);this.mediaPreloader=this.componentWrapper.find(".mediaPreloader").css("display","none");this.componentInnerWrapper=this.componentWrapper.find(".componentInnerWrapper"); this.componentInnerWrapperOrigW=this.componentInnerWrapper.width();this.componentInnerWrapperOrigH=this.componentInnerWrapper.height();this.componentInnerWrapperCurrW=this.componentInnerWrapperOrigW;this.componentInnerWrapperCurrH=this.componentInnerWrapperOrigH;this.playlistHolder=this.componentWrapper.find(".playlistHolder");this.playlistHolderOrigW=this.playlistHolder.width();this.playlistHolderOrigH=this.playlistHolder.height();this.componentPlaylist=this.playlistHolder.find(".componentPlaylist"); this.playlist_inner=this.playlistHolder.find(".playlist_inner");this.playerHolder=this.componentWrapper.find(".playerHolder");this.playerHolderOrigW=this.playerHolder.width();this.playerHolderOrigH=this.playerHolder.height();this.playerHolderCurrW=this.playerHolderOrigW;this.playerHolderCurrH=this.playerHolderOrigH;this.playerRatio=this.playerHolder.width()/this.playerHolder.height();this.mediaHolder=this.playerHolder.find(".mediaHolder").bind("click",function(){c.togglePlayBack();return!1});this.youtubeHolder= this.playerHolder.find(".youtubeHolder");this.vimeoHolder=this.playerHolder.find(".vimeoHolder");this.componentWrapper.find(".w_player_adv").length&&(this.w_player_adv=this.componentWrapper.find(".w_player_adv"),this.w_prev=this.w_player_adv.find(".w_prev").css({cursor:"pointer"}).bind("click",function(){if(!c._componentInited||c._playlistTransitionOn)return!1;c.previousMedia();return!1}),c.w_next=c.w_player_adv.find(".w_next").css({cursor:"pointer"}).bind("click",function(){c.nextMedia();return!1}), this.componentWrapper.find(".w_player_adv").css("display","block"));this.componentWrapper.find(".player_adv").length&&(this.player_adv=this.componentWrapper.find(".player_adv"),this.player_prev=this.player_adv.find(".player_prev").css({cursor:"pointer"}).bind("click",function(){if(!c._componentInited||c._playlistTransitionOn)return!1;c.previousMedia();return!1}),this.useRollovers&&this.player_prev.bind("mouseover",function(){if(!c._componentInited||c._playlistTransitionOn)return!1;e(this).find("img").attr("src", c.ic_player_prev_on);return!1}).bind("mouseout",function(){if(!c._componentInited||c._playlistTransitionOn)return!1;e(this).find("img").attr("src",c.ic_player_prev);return!1}),this.player_next=c.player_adv.find(".player_next").css({cursor:"pointer"}).bind("click",function(){c.nextMedia();return!1}),this.useRollovers&&this.player_next.bind("mouseover",function(){if(!c._componentInited||c._playlistTransitionOn)return!1;e(this).find("img").attr("src",c.ic_player_next_on);return!1}).bind("mouseout",function(){if(!c._componentInited|| c._playlistTransitionOn)return!1;e(this).find("img").attr("src",c.ic_player_next);return!1}));this._componentWidth=this._getComponentSize("w");this._componentHeight=this._getComponentSize("h");this.widthSizeLimit="horizontal"==this._thumbOrientation?500:600;this.heightSizeLimit="horizontal"==this._thumbOrientation?350:250;this.mobileLayout=!1;if(this.fullSize)"right"==this.playlistPosition?this._componentHeight<=this.heightSizeLimit&&(this.mobileLayout=!0):"bottom"==this.playlistPosition&&this._componentWidth<= this.widthSizeLimit&&(this.mobileLayout=!0);else if(this._componentWidth<=this.widthSizeLimit||this._componentHeight<=this.heightSizeLimit)this.mobileLayout=!0;this.activeItem;this.playerControls=this.componentWrapper.find(".playerControls");this.playerControlsOrigL=parseInt(this.playerControls.css("left"),10);this.player_mediaTime=this.componentWrapper.find(".player_mediaTime");this.isIOS=!1;var q=navigator.userAgent;if(-1<q.indexOf("iPhone")||-1<q.indexOf("iPod")||-1<q.indexOf("iPad")){this.isIOS= !0;var y=document.getElementsByTagName("meta"),s;if(navigator.userAgent.match(/iPhone|iPad/i)){for(s=0;s<y.length;s++)"viewport"==y[s].name&&(y[s].content="width=device-width, minimum-scale=1.0, maximum-scale=1.0");document.addEventListener("gesturestart",C,!1)}var C=function(){for(s=0;s<y.length;s++)"viewport"==y[s].name&&(y[s].content="width=device-width, minimum-scale=0.25, maximum-scale=1.6")};this.aspectRatio=1}(this.isiPhoneIpod=-1<q.indexOf("iPhone")||-1<q.indexOf("iPod"))&&this.playerControls.remove(); this.isAndroid=-1<q.indexOf("Android");this.isMobile&&(this.vim_autoPlay=this.yt_autoPlay=this.autoPlay=!1);this.vorbisSupport=this.canPlayVorbis();this.mp4Support=this.canPlayMP4();this.webMsupport=this.canPlayWebM();this.html5Support=!!document.createElement("video").canPlayType;this.fullscreenCount=0;this.fullscreenPossible=!1;this.checkFullScreenSupport()&&(this.fullscreenPossible=!0);if(this.fullscreenPossible)this._doc.on("fullscreenchange mozfullscreenchange webkitfullscreenchange",function(){c.setFullscreenIcon(); "fullscreen"==c.componentSize&&0<c.fullscreenCount&&(c.componentSize="normal",c.resizeComponent());c.fullscreenCount=1});this.html5video_inited=!1;this.previewPoster;this.bigPlay;this.html5Support&&(this.bigPlay=this.componentWrapper.find(".bigPlay").css("cursor","pointer").bind("click",function(){c.togglePlayBack();return!1}));if(this.autoHideControls=this.isMobile?!1:!0)this.componentHit=!1,this.componentInnerWrapper.mouseenter(function(a){componentHit=!0;c.showControls()}).mouseleave(function(){componentHit= !1;c.hideControls()});this.aspectRatio=1;this.videoInited=!1;this._mediaPath;this.mediaPlaying=!1;this.flashReadyInterval=100;this.flashReadyIntervalID;this.flashPreview=e(this.settings.flashHolder);this.flashCheckDone=!1;this.dataInterval=100;this.dataIntervalID;this.mediaWidth;this.mediaHeight;this.componentSize="normal";this.video;this.videoUp2Js;this.mediaPreview=this.componentWrapper.find(".mediaPreview").bind("click",function(){c.togglePlayBack();return!1});var w=q="",x="",u;"ontouchstart"in window?(u=!0,q="touchstart.ap",w="touchmove.ap",x="touchend.ap"):(u=!1,q="mousedown.ap",w="mousemove.ap",x="mouseup.ap");this.seekPercent;this.seekBarDown=!1;this.player_progress=this.componentWrapper.find(".player_progress");this.progress_bg=this.componentWrapper.find(".progress_bg");this.load_level=this.componentWrapper.find(".load_level");this.progress_level=this.componentWrapper.find(".progress_level");this.controlsMediaWidthDiff=20;this.controlsSeekbarDiff=this._getControlsSeekbarDiff();this.seekBarSize= this.playerControls.width()-this.controlsSeekbarDiff;this.player_progress.css("cursor","pointer").bind(q,function(a){f(a);return!1});this.player_progress_tooltip=this.componentWrapper.find(".player_progress_tooltip").css("left",parseInt(this.player_progress.css("left"),10)+"px");this.player_progress_tooltip_value=this.componentWrapper.find(".player_progress_tooltip_value");this.isMobile||this.player_progress.bind("mouseover",g);this.player_volume=this.componentWrapper.find(".player_volume");this._lastVolume= this.defaultVolume;this.volumebarDown=!1;this.volume_seekbar=this.componentWrapper.find(".volume_seekbar");this.volume_bg=this.componentWrapper.find(".volume_bg");this.volume_level=this.componentWrapper.find(".volume_level");this.volumeSize=this.volume_bg.width();this.volume_level.css("width",this.defaultVolume*this.volumeSize+"px");0==this.defaultVolume?(this._lastVolume=0.5,this.player_volume.find("img").attr("src",this.ic_mute)):0<this.defaultVolume&&this.player_volume.find("img").attr("src",this.ic_volume); this.noTime=this.noVolume=!1;this.isIOS&&(this.player_volume.css("display","none"),this.volume_seekbar.css("display","none"),this.player_mediaTime.css("right","45px"),this.player_progress.width(this.player_progress.width()+95),this.progress_bg.width(this.player_progress.width()-20),this.controlsSeekbarDiff=180,this.noVolume=!0);this.volume_seekbar.css("cursor","pointer").bind(q,function(a){m(a);return!1});this.player_volume_tooltip=this.componentWrapper.find(".player_volume_tooltip").css("left",parseInt(this.volume_seekbar.css("left"), 10)+"px");this.player_volume_tooltip_value=this.componentWrapper.find(".player_volume_tooltip_value");this.isMobile||this.volume_seekbar.bind("mouseover",n);this.html5Support||(this.mediaPreview.remove(),this.mp4Support=!0);this.player_playControl=this.componentWrapper.find(".player_playControl").css("cursor","pointer").bind("click",function(){c.togglePlayBack();return!1});c.useRollovers&&this.player_playControl.bind("mouseover",function(){c.mediaPlaying?c.componentWrapper.find(".player_playControl").find("img").attr("src", c.ic_pause_on):c.componentWrapper.find(".player_playControl").find("img").attr("src",c.ic_play_on);return!1}).bind("mouseout",function(){c.mediaPlaying?c.componentWrapper.find(".player_playControl").find("img").attr("src",c.ic_pause):c.componentWrapper.find(".player_playControl").find("img").attr("src",c.ic_play);return!1});this.player_volume.css("cursor","pointer").bind("click",function(){0==c.defaultVolume?(c.defaultVolume=c._lastVolume,c.html5Support&&(c.videoUp2Js.muted=!1),c._setVolume(),c.player_volume.find("img").attr("src", c.ic_volume)):(c._lastVolume=c.defaultVolume,c.html5Support&&(c.videoUp2Js.muted=!0),c.defaultVolume=0,c._setVolume(),c.player_volume.find("img").attr("src",c.ic_mute));return!1});c.useRollovers&&this.player_volume.bind("mouseover",function(){0==c.defaultVolume?c.player_volume.find("img").attr("src",c.ic_mute_on):c.player_volume.find("img").attr("src",c.ic_volume_on);return!1}).bind("mouseout",function(){0==c.defaultVolume?c.player_volume.find("img").attr("src",c.ic_mute):c.player_volume.find("img").attr("src", c.ic_volume);return!1});this.noFS=!1;this.player_fullscreen=this.componentWrapper.find(".player_fullscreen");this.html5Support&&!this.fullscreenPossible&&this.fullSize&&(this.noFS=!0,this.player_fullscreen.css("display","none"),this.no_fs_move=25,this.player_mediaTime.css("right",parseInt(this.player_mediaTime.css("right"),10)-this.no_fs_move+"px"),this.player_volume.css("right",parseInt(this.player_volume.css("right"),10)-this.no_fs_move+"px"),this.volume_seekbar.css("right",parseInt(this.volume_seekbar.css("right"), 10)-this.no_fs_move+"px"));this.player_fullscreen.css("cursor","pointer").bind("click",function(){c.toggleFullscreen(!0);return!1});c.useRollovers&&this.player_fullscreen.bind("mouseover",function(){"normal"==c.componentSize?c.player_fullscreen.find("img").attr("src",c.ic_fullscreen_enter_on):c.player_fullscreen.find("img").attr("src",c.ic_fullscreen_exit_on);return!1}).bind("mouseout",function(){"normal"==c.componentSize?c.player_fullscreen.find("img").attr("src",c.ic_fullscreen_enter):c.player_fullscreen.find("img").attr("src", c.ic_fullscreen_exit);return!1});"horizontal"==this._thumbOrientation&&this.playlistHolder.bind("mousewheel",function(a,b,f,e){if(c._componentInited&&!c._playlistTransitionOn)return c.scrollPaneApi&&c.scrollPaneApi.scrollByX(100*(0<b?-1:1)),!1});this._window.bind("resize",function(){c._windowResizeIntervalID&&clearInterval(c._windowResizeIntervalID);c._windowResizeIntervalID=setTimeout(function(){c._doneResizing()},c._windowResizeInterval);return!1});this._playlistManager=e.playlistManager({randomPlay:this.randomPlay, loopingOn:this.loopingOn});e(this._playlistManager).bind("ap_PlaylistManager.COUNTER_READY",function(){c.useDeeplink?c._addressSet?(c._addressSet=!1,c._disableActiveItem(),c._findMedia()):(e.address.value(c.findAddress2(c._playlistManager.getCounter())),e.address.history()||e.address.history(!0)):(c._disableActiveItem(),c._findMedia())});e(this._playlistManager).bind("ap_PlaylistManager.PLAYLIST_END",function(){c._disableActiveItem()});this.categoryArr=[];var A;this.playlist_inner.children("ul[data-address]").each(function(){var a= {};A=e(this);a.categoryName=A.attr("data-address");a.id=A.attr("id");c.categoryArr.push(a)});this.categoryLength=this.categoryArr.length;this.getDeeplinkData=!1;(this.useDeeplink=this.settings.useDeeplink)?(this.strict=e.address.strict()?"#/":"#",this.dlink,this._activePlaylist,this.currentProcessDeeplink,this.secondLevelExist=!1,this.secondLevel,this.firstLevel,this.deepLink,this._addressInited=this._addressSet=!1,this.addressTimeout=500,this.addressTimeoutID,this._externalChangeEvent,this.startUrl= this.settings.startUrl,this.activeCategory,this.currentCategory,this.activeItem,this.transitionFinishInterval=100,this.transitionFinishIntervalID,e.address.internalChange(function(a){a.stopPropagation();this.reCheckAddressTimeoutID&&clearTimeout(this.reCheckAddressTimeoutID);c.onChange(a)}),e.address.externalChange(function(a){a.stopPropagation();this.reCheckAddressTimeoutID&&clearTimeout(this.reCheckAddressTimeoutID);c._externalChangeEvent=a;if(c._playlistTransitionOn)c.addressTimeoutID&&clearTimeout(c.addressTimeoutID), c.transitionFinishIntervalID&&clearInterval(c.transitionFinishIntervalID),c.transitionFinishIntervalID=setInterval(B,c.transitionFinishInterval);else if(c._addressInited)c.addressTimeoutID&&clearTimeout(c.addressTimeoutID),c.addressTimeoutID=setTimeout(z,c.addressTimeout);else if("/"==a.value)c._addressSet=!0,e.address.history(!1),c.isEmpty(c.startUrl)||(e.address.value(c.startUrl),e.address.history()||e.address.history(!0));else if(c.isEmpty(a.value))c._addressSet=!0,e.address.history(!1),c.isEmpty(c.startUrl)|| (e.address.value(c.startUrl),e.address.history()||e.address.history(!0));else c.onChange(a)})):(this._activePlaylist=this.settings.activePlaylist,this._getPlaylist());this._doneResizing()}z.prototype={filterAllowedChars:function(a){var b=a.length,f="",e=0,g,h;for(e;e<b;e++)if(g=a.charAt(e).toLowerCase(),"\\"==g&&(g="/"),h=this.getCharCode(g),h>=this.getCharCode("a")&&h<=this.getCharCode("z")||h>=this.getCharCode("0")&&h<=this.getCharCode("9")||0<="_-".indexOf(g))f+=g;return f},getCharCode:function(a){return a.charCodeAt(0)}, initAddress:function(a){a.stopPropagation()},onChange:function(a){a.stopPropagation();this.slideshowTimeoutID&&clearTimeout(this.slideshowTimeoutID);this._addressInited||(this._addressInited=!0);this.deepLink=a.value;"/"==this.deepLink.charAt(0)&&(this.deepLink=this.deepLink.substring(1));"/"==this.deepLink.charAt(this.deepLink.length-1)&&(this.deepLink=this.deepLink.substring(0,this.deepLink.length-1));a=this.findFirstLevel(this.deepLink);if(!this.findCategoryByName(a))return alert("404 page not found, check your deeplinks first level!"), e.address.history(!1),!1;this._addressSet=!1;void 0==this.currentCategory||this.currentCategory!=this.activeCategory?this._getPlaylist():this.secondLevel?this.findCounterByName(this.secondLevel)?this._playlistManager.getCounter()!=this.activeItem?(this._addressSet=!0,-1!=this._playlistManager.getCounter()&&this._enableActiveItem(),this._playlistManager.setCounter(this.activeItem,!1)):(this._disableActiveItem(),this._findMedia()):(alert("404 page not found, check your deeplinks second level!"),e.address.history(!1)): this.destroyMedia()},findAddress:function(a){a=a.split("/");var b=!1;2!=a.length&&(b=!0);var f=a[0],e=!1,g=!1,h=0,k=this.categoryArr.length;for(h;h<k;h++)if(this.categoryArr[h].categoryName==f){this.activeCategory=h;e=!0;break}if(!e)return!1;if(b)for(media_name=a[1],h=0,a=this.categoryArr[this.activeCategory].mediaName,k=a.length,h;h<k;h++)if(a[h]==media_name){this.activeItem=h;g=!0;break}return e&&g?!0:!1},findCounterByName:function(a){var b=!1,f=0,e=this.categoryArr[this.activeCategory].mediaName, g=e.length;for(f;f<g;f++)if(e[f]==a){this.activeItem=f;b=!0;break}return b?!0:!1},findCounterByName2:function(a){var b=0,f=this.categoryArr[this.activeCategory].mediaName,e=f.length,g=-1;for(b;b<e;b++)if(f[b]==a){g=b;break}return g},findCategoryByName:function(a){var b=!1,f=0;for(f;f<this.categoryLength;f++)if(this.categoryArr[f].categoryName==a){this.activeCategory=f;this._activePlaylist=this.categoryArr[f].id;b=!0;break}return b?!0:!1},findAddress2:function(a){return this.categoryArr[this.activeCategory].categoryName+ "/"+this.categoryArr[this.activeCategory].mediaName[a]},findFirstLevel:function(a){var b;0<a.indexOf("/")?(this.secondLevelExist=!0,this.firstLevel=b=a.substr(0,a.indexOf("/")),this.secondLevel=a.substr(a.indexOf("/")+1)):(this.firstLevel=a,this.secondLevelExist=!1,this.secondLevel=null,b=a);return this.filterAllowedChars(b)},isEmpty:function(a){return 0==a.replace(/^\s+|\s+$/g,"").length},getDescription:function(a){if(!this._componentInited||this._playlistTransitionOn)return!1;if(this.useDeeplink)if(a)if("string"=== typeof a)if(0<a.indexOf("/")){"/"==a.charAt(0)&&(a=a.substring(1));"/"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));a=a.substring(a.lastIndexOf("/")+1);if(-1==this.findCounterByName2(a))return alert("Invalid value for getDescription Deeplink! Wrong deeplink!"),!1;a=this.findCounterByName2(a)}else return alert("Invalid value for getDescription Deeplink! Two level deeplink needed!"),!1;else return alert("Invalid value for getDescription Deeplink! String needed!"),!1;else{if(-1==this._playlistManager.getCounter())return alert("No active Item for description, counter = -1"), !1;a=this._playlistManager.getCounter()}else if(a)if("number"===typeof a)a>this._playlistLength-1?a=this._playlistLength-1:0>a&&(a=0);else return alert("Invalid value loadMedia no Deeplink! Number needed!"),!1;else{if(-1==this._playlistManager.getCounter())return alert("No active Item for description, counter = -1"),!1;a=this._playlistManager.getCounter()}return this._descriptionDataArr[a]?this._descriptionDataArr[a]:null},playMedia:function(){if(!this._componentInited||this._playlistTransitionOn|| !this._mediaType)return!1;"local"==this._mediaType?this.togglePlayBack():"vimeo"==this._mediaType?this._vimeoPlayer&&this._vimeoPlayer.play():"youtube"==this._mediaType&&this._youtubePlayer&&this._youtubePlayer.play();this.mediaPlaying=!0},pauseMedia:function(){if(!this._componentInited||this._playlistTransitionOn||!this._mediaType)return!1;"local"==this._mediaType?this.togglePlayBack():"vimeo"==this._mediaType?this._vimeoPlayer&&this._vimeoPlayer.pause():"youtube"==this._mediaType&&this._youtubePlayer&& this._youtubePlayer.pause();this.mediaPlaying=!1},nextMedia:function(){if(!this._componentInited||this._playlistTransitionOn)return!1;this._enableActiveItem();this._playlistManager.advanceHandler(1,!0)},previousMedia:function(){if(!this._componentInited||this._playlistTransitionOn)return!1;this._enableActiveItem();this._playlistManager.advanceHandler(-1,!0)},loadMedia:function(a){if(this._componentInited&&!this._playlistTransitionOn)if(this.useDeeplink)if("string"===typeof a)e.address.value(a);else return alert("Invalid value loadMedia Deeplink!"), !1;else if("number"===typeof a)0>a?a=0:a>this._playlistLength-1&&(a=this._playlistLength-1),this._enableActiveItem(),this._playlistManager.processPlaylistRequest(a);else if("string"===typeof a)this._activePlaylist=a,this._getPlaylist();else return alert("Invalid value loadMedia no Deeplink!"),!1},destroyMedia:function(){this._componentInited&&this._mediaType&&(this._cleanMedia(),this._mediaType=null,this._enableActiveItem(),this._playlistManager.reSetCounter(),this.mediaPreloader&&this.mediaPreloader.css("display", "none"))},setVolume:function(a){if(!this._componentInited||this._playlistTransitionOn||!this._mediaType)return!1;0>a?a=0:1<a&&(a=1);this.defaultVolume=a;this._setVolume()},loadPreview:function(){var a=this;this.mediaPreview.css("display","block");this.mediaPreloader&&this.mediaPreloader.css("display","block");var b=this.activeItem.attr("data-poster")+"?rand="+Math.floor(99999999*Math.random());this.previewPoster=e(new Image).css({position:"absolute",display:"block",opacity:0}).appendTo(this.mediaPreview).load(function(){a._resizeControls(); a.mediaPreloader&&a.mediaPreloader.css("display","none");a.resizePreview();a.previewPoster.animate({opacity:1},{duration:500,easing:"easeOutSine"});a.bigPlay&&a.bigPlay.css("display","block")}).attr("src",b).error(function(a){})},togglePlayBack:function(){if(-1==this._playlistManager.getCounter())return!1;var a=this;this.videoInited||this.autoPlay?this.html5Support?this.videoUp2Js.paused?this.videoUp2Js.play():this.videoUp2Js.pause():"undefined"!==typeof this.getFlashMovie("flashPreview")&&"undefined"!== typeof this.getFlashMovie("flashPreview").pb_togglePlayback&&this.getFlashMovie("flashPreview").pb_togglePlayback():(this.previewPoster&&this.previewPoster.stop().animate({opacity:0},{duration:500,easing:"easeOutSine",complete:function(){a.previewPoster.remove();a.previewPoster=null}}),this.html5Support?this._initLocal():("undefined"!==typeof this.getFlashMovie("flashPreview")&&"undefined"!==typeof this.getFlashMovie("flashPreview").pb_play&&this.getFlashMovie("flashPreview").pb_play(this._mediaPath, this.aspectRatio),this._resizeControls()));this.videoInited=!0;return!1},flashResizeControls:function(){this._resizeControls()},flashMainPreviewOff:function(){"undefined"!==typeof this.getFlashMovie("flashPreview")&&("undefined"!==typeof this.getFlashMovie("flashPreview").pb_play&&this.getFlashMovie("flashPreview").pb_play(this._mediaPath,this.aspectRatio),this.videoInited=!0)},flashVideoPause:function(){this.mediaPlaying=!1},flashVideoResume:function(){this.mediaPlaying=!0},flashVideoEnd:function(){this._mediaAdvance()}, flashVideoStart:function(){this.videoInited=!0;this.showControls()},dataUpdateFlash:function(a,b,f,e){},getFlashMovie:function(a){return-1!=navigator.appName.indexOf("Microsoft")?window[a]:document[a]},showControls:function(){this.videoInited&&(this.html5Support?this.playerControls.css("display","block"):"undefined"!==typeof this.getFlashMovie("flashPreview")&&"undefined"!==typeof this.getFlashMovie("flashPreview").pb_toggleControls&&this.getFlashMovie("flashPreview").pb_toggleControls(!0))},hideControls:function(){this.html5Support? this.playerControls.css("display","none"):"undefined"!==typeof this.getFlashMovie("flashPreview")&&"undefined"!==typeof this.getFlashMovie("flashPreview").pb_toggleControls&&this.getFlashMovie("flashPreview").pb_toggleControls(!1)},resizeComponent:function(){this.playerControls.css("left","10000px");this._getComponentSize("w");this._getComponentSize("h");"fullscreen"==this.componentSize?(this._body.css("overflow","hidden"),this.playlistHolder.css("display","none"),this.componentWrapper.find(".player_adv").css("display", "none"),this.componentWrapper.find(".w_player_adv").css("display","none"),this.playerHolder.css({width:"",height:""}).removeClass("playerHolder").addClass("playerHolder_fs")):(this._body.css("overflow",this.bodyOverflowOrig),this.playerHolder.removeClass("playerHolder_fs").addClass("playerHolder"),this.playlistHolder.css("display","block"),this.componentWrapper.find(".player_adv").css("display","block"),this.componentWrapper.find(".w_player_adv").css("display","block"));this.previewPoster&&this.resizePreview(); this.html5Support&&this.videoInited&&this.resizeVideo();this._resizeControls();this.playerControls.css("left",this.playerControlsOrigL+"px")},resizePreview:function(){if(this.previewPoster){var a,b,f,e=this.previewPoster;0!=this.aspectRatio&&(1==this.aspectRatio?a=this.retrieveObjectRatio(!0,e):2==this.aspectRatio&&(a=this.retrieveObjectRatio(!1,e)));"normal"==this.componentSize?(b=(this._getPlayerSize("w")-a.width)/2,f=(this._getPlayerSize("h")-a.height)/2):(b=(this._getComponentSize("w")-a.width)/ 2,f=(this._getComponentSize("h")-a.height)/2);e.css({width:a.width+"px",height:a.height+"px",left:b+"px",top:f+"px"})}},resizeVideo:function(){if(this.video){var a,b,f;0==this.aspectRatio?a=this.getMediaSize():1==this.aspectRatio?a=this.retrieveObjectRatio(!0):2==this.aspectRatio&&(a=this.retrieveObjectRatio(!1));"normal"==this.componentSize?(b=(this._getPlayerSize("w")-a.width)/2,f=(this._getPlayerSize("h")-a.height)/2):(b=(this._getComponentSize("w")-a.width)/2,f=(this._getComponentSize("h")-a.height)/ 2);this.video.css({width:a.width+"px",height:a.height+"px",left:b+"px",top:f+"px"})}},retrieveObjectRatio:function(a,b){if("normal"==this.componentSize)var f=this._getPlayerSize("w"),e=this._getPlayerSize("h");else f=this._getComponentSize("w"),e=this._getComponentSize("h");var g,h,k={};b?(g=b.width(),h=b.height()):(b=this.getMediaSize(),g=b.width,h=b.height);var m=(f-0)/(e-0),p=g/h;p<m?a?(k.width=(e-0)/h*g,k.height=e-0):(k.height=(f-0)/g*h,k.width=f-0):p>m?a?(k.height=(f-0)/g*h,k.width=f-0):(k.width= (e-0)/h*g,k.height=e-0):(k.width=f-0,k.height=e-0);return k},getMediaSize:function(){var a={};this.videoUp2Js?(a.width=this.videoUp2Js.videoWidth,a.height=this.videoUp2Js.videoHeight):(a.width=this._getPlayerSize("w"),a.height=this._getPlayerSize("h"));return a},resetData:function(){this.player_mediaTime.html("00:00 | 00:00");this.progress_level.css("width","0px");this.load_level.css("width","0px")},canPlayVorbis:function(){var a=document.createElement("video");return!(!a.canPlayType||!a.canPlayType('video/ogg; codecs="theora, vorbis"').replace(/no/, ""))},canPlayMP4:function(){var a=document.createElement("video");return!(!a.canPlayType||!a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))},canPlayWebM:function(){var a=document.createElement("video");return!(!a.canPlayType||!a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,""))},formatCurrentTime:function(a){a=Math.round(a);minutes=Math.floor(a/60);minutes=10<=minutes?minutes:"0"+minutes;a=Math.floor(a%60);return minutes+":"+(10<=a?a:"0"+a)},formatDuration:function(a){a= Math.round(a);minutes=Math.floor(a/60);minutes=10<=minutes?minutes:"0"+minutes;a=Math.floor(a%60);return" | "+minutes+":"+(10<=a?a:"0"+a)},setFullscreenIcon:function(){document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen?this.player_fullscreen.children("img").attr("src",this.ic_fullscreen_enter):this.player_fullscreen.children("img").attr("src",this.ic_fullscreen_exit)},fullScreenStatus:function(){return document.fullscreen||document.mozFullScreen|| document.webkitIsFullScreen},toggleFullscreen:function(a){this.fullscreenCount=0;"normal"==this.componentSize?(this.componentSize="fullscreen",this.fullscreenPossible||this.componentWrapper.find(".player_fullscreen").find("img").attr("src",this.ic_fullscreen_exit)):(this.componentSize="normal",this.fullscreenPossible||this.componentWrapper.find(".player_fullscreen").find("img").attr("src",this.ic_fullscreen_enter));if(this.fullscreenPossible||this.html5Support)document.fullScreenElement&&null!==document.fullScreenElement|| !document.mozFullScreen&&!document.webkitIsFullScreen?document.documentElement.requestFullScreen?document.documentElement.requestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullScreen&&document.documentElement.webkitRequestFullScreen():document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen(); this.fullscreenPossible?"normal"==this.componentSize&&a&&this.resizeComponent():this.resizeComponent()},checkFullScreenSupport:function(){var a=!1;document.documentElement.requestFullScreen?a=!0:document.documentElement.mozRequestFullScreen?a=!0:document.documentElement.webkitRequestFullScreen&&(a=!0);return a},_checkScroll:function(a){"horizontal"==this._thumbOrientation&&this._setPlaylistSize(0==a?0:this.margin_size);this.scrollPaneApi?(this.scrollPaneApi.reinitialise(),"vertical"==this._thumbOrientation? this.scrollPaneApi.scrollToY(0):this.scrollPaneApi.scrollToX(0)):(this.scrollPane=this.playlist_inner,this.scrollPane.jScrollPane({verticalDragMinHeight:60,verticalDragMaxHeight:60,horizontalDragMinWidth:60,horizontalDragMaxWidth:60}),this.scrollPaneApi=this.scrollPane.data("jsp"),this.scrollPane.bind("jsp-initialised",function(a,f){}))},_setPlaylistSize:function(a){if(this._playlistArr[0]&&this._playlistLength&&this.lastPlaylist&&"horizontal"==this._thumbOrientation){var b=e(this._playlistArr[0]), f=parseInt(b.outerWidth(),10);a=this._playlistLength*f+(this._playlistLength-1)*parseInt(b.css("marginRight"),10)+a;this.isIE&&this.ieBelow9&&(a+=3);this.lastPlaylist.css("width",a+"px")}},_getPlaylist:function(){this._playlistTransitionOn=!0;var a=this,b=0,f;if(this.lastPlaylist){this._cleanMedia();for(b;b<this._playlistLength;b++)f=e(this._playlistArr[b]),f.css("cursor","pointer"),f.removeClass("playlistSelected").addClass("playlistNonSelected");this.lastPlaylist.css("display","none")}this.html5video_inited= !1;this._descriptionDataArr=[];this._playlistLength=0;this._processPlaylistCounter=-1;this.liProcessArr=[];this._playlistArr=[];"horizontal"==this._thumbOrientation&&(b=e("<div/>").addClass("playlistNonSelected").hide().appendTo(this.componentPlaylist),this.margin_size=parseInt(b.css("marginRight"),10)+1,b.remove(),b=null);b=e(this.playlistHolder.find("ul[id="+this._activePlaylist+"]")).css("display","block");if(0==b.length)return alert("Failed playlist selection! No playlist with id: "+this._activePlaylist), this._playlistTransitionOn=!1;this.lastPlaylist=b;this.currentCategory=this.activeCategory;this.deeplinkData=[];this.useDeeplink&&(this.getDeeplinkData=!1,this.useDeeplink||this.activeCategory||(this.activeCategory=b.index()),this.categoryArr[this.activeCategory].mediaName||(this.getDeeplinkData=!0,this.categoryArr[this.activeCategory].mediaName=[]));void 0!=b.attr("data-set")&&"true"==b.attr("data-set")?(b.children("li[class=playlistNonSelected]").each(function(){a._playlistArr.push(e(this))}),this._playlistLength= this._playlistArr.length,this._playlistManager.setPlaylistItems(this._playlistLength),this._checkScroll(0),this._playlistTransitionOn=!1,this._checkPlaylistSize(),this.outputPlaylistData&&this._getPlaylistData(),this.useDeeplink?this.secondLevelExist&&(this.findCounterByName(this.secondLevel)?(this._addressSet=!0,this._playlistManager.setCounter(this.activeItem,!1)):(alert("404 page not found, check your deeplinks second level!"),e.address.history(!1))):(b=this.settings.activeItem,b>this._playlistLength- 1&&(b=this._playlistLength-1),-1<b&&this._playlistManager.setCounter(b,!1))):(this.liProcessArr=b.children("li"),this._processPlaylistLength=this.liProcessArr.length,this._checkPlaylistProcess())},_getPlaylistData:function(){this.dlink=this.baseURL+this.strict+this.firstLevel+"/";var a,b,f=0,e=this._playlistArr.length,g;for(f;f<e;f++)g=this._playlistArr[f],b=g.attr("data-type"),"local"==b?(this.mp4Support?a=g.attr("data-mp4"):this.vorbisSupport?a=g.attr("data-ogv"):this.webMsupport&&(a=g.attr("data-webm")), b=a.lastIndexOf("/")?a.substr(a.lastIndexOf("/")+1):a,this.deeplinkData.push({id:f+1,name:b,type:"local","video-id":a,deeplink:this.useDeeplink?this.dlink+g.attr("data-address"):"undefined"})):this.deeplinkData.push({id:f+1,name:g.attr("data-title")?g.attr("data-title"):"",type:g.attr("data-type"),"video-id":g.attr("data-path"),deeplink:this.useDeeplink?this.dlink+g.attr("data-address"):"undefined"});try{console.log(this.deeplinkData)}catch(h){}},_checkPlaylistProcess:function(){this._checkScroll(); this._processPlaylistCounter++;if(this._processPlaylistCounter<this._processPlaylistLength)this._videoProcessData=[],this._processPlaylistItem();else{var a=this;if(!this.flashCheckDone)if(this.flashCheckDone=!0,this.html5Support)this.flashPreview.remove();else{document.getElementById("flashPreview").style.display="block";this.flashReadyIntervalID=setInterval(function(){"undefined"!==typeof a.getFlashMovie("flashPreview").setData&&(a.flashReadyIntervalID&&clearInterval(a.flashReadyIntervalID),a.getFlashMovie("flashPreview").setData(a.settings, a.seekBarSize,a.volumeSize,a.controlsMediaWidthDiff,a.isMobile,a.noVolume,a.initialAutoplay),a._checkPlaylistProcess());0==a.componentWrapper.find(".bigPlay").length&&"undefined"!==typeof a.getFlashMovie("flashPreview").pb_removeBigPlay&&a.getFlashMovie("flashPreview").pb_removeBigPlay();a.componentWrapper.find(".bigPlay").remove();0==a.componentWrapper.find(".playerControls").length&&"undefined"!==typeof a.getFlashMovie("flashPreview").pb_removeControls&&a.getFlashMovie("flashPreview").pb_removeControls(); a.componentWrapper.find(".playerControls").remove()},this.flashReadyInterval);return}this.lastPlaylist.attr("data-set","true");this._playlistTransitionOn=!1;this._playlistLength=this._playlistArr.length;this._playlistManager.setPlaylistItems(this._playlistLength);this.outputPlaylistData&&this._getPlaylistData();"vertical"==this._thumbOrientation?e(this._playlistArr[this._playlistLength-1]).css("marginBottom","0px"):e(this._playlistArr[this._playlistLength-1]).css("marginRight","0px");this._checkScroll(0); this._checkPlaylistSize();this._componentInited||(this._componentInited=!0,this.settings.videoGallerySetupDone.call(this));if(this.useDeeplink)this.secondLevelExist&&(this.findCounterByName(this.secondLevel)?(this._addressSet=!0,this._playlistManager.setCounter(this.activeItem,!1)):(alert("404 page not found, check your deeplinks second level!"),e.address.history(!1)));else{var b=this.settings.activeItem;b>this._playlistLength-1&&(b=this._playlistLength-1);-1<b&&this._playlistManager.setCounter(b, !1)}}},_processPlaylistItem:function(){var a,b,f;a=e(this.liProcessArr[this._processPlaylistCounter]);b=a.attr("data-type");f=a.attr("data-path");this.currentInfo=this.currentThumb=null;"local"==b?(this._playlistLength+=1,a.css({cursor:"pointer",display:"block"}),this._playlistArr.push(a),a.attr("data-id",this._playlistLength-1),a.data({mp4:a.attr("data-mp4"),ogv:a.attr("data-ogv"),webm:a.attr("data-webm"),poster:a.attr("data-poster")}),this._addPlaylistMouseEvents(a),this.mobileLayout&&a.removeClass("playlistNonSelected").addClass("playlistNonSelected_mob").css({cursor:"pointer", display:"block"}),0<a.find("div[class='playlistInfo']").length&&(a.find("div[class='playlistInfo']").dotdotdot(),this._descriptionDataArr[this._playlistLength-1]=a.find("div[class='playlistContent']").html()),this.useDeeplink&&this.getDeeplinkData&&(a=this.filterAllowedChars(a.attr("data-address")),this.categoryArr[this.activeCategory].mediaName.push(a)),this._checkPlaylistProcess()):this._contains(this.vimeoTypeArr,b)?(this.autoMakePlaylistThumb||(this.currentThumb=a.find("div[class='playlistThumb']"), this.currentInfo=a.find("div[class='playlistInfo']")),this._currentInsert=a,a.css("display","none"),this.currentObj={},this.useDeeplink&&(this.currentObj.deeplink=a.attr("data-address")),this._processVimeo(b,f)):this._contains(this.youtubeTypeArr,b)&&("youtube_playlist"==b&&f.search("/PL"),this.autoMakePlaylistThumb||(this.currentThumb=a.find("div[class='playlistThumb']"),this.currentInfo=a.find("div[class='playlistInfo']")),this.ytType=b,"youtube_channel_query"==b?(this.preserveInsert_item=a,this.preserveInsert= !0):this._currentInsert=a,a.css("display","none"),this.currentObj={},this.useDeeplink&&(this.currentObj.deeplink=a.attr("data-address")),this._processYoutube(b,f))},_contains:function(a,b){for(var f=a.length;f--;)if(a[f]===b)return!0;return!1},_processYoutube:function(a,b){var f=this;"youtube_single"==a?this._processYoutubeSingle(b):"youtube_playlist"!=a&&"youtube_user_favourites"!=a&&"youtube_user_uploads"!=a&&"youtube_video_query"!=a&&"youtube_playlist_query"!=a&&"youtube_standard_feed"!=a&&"youtube_user_videos"!= a&&"youtube_user_playlists"!=a&&"youtube_channel_query"!=a?alert("Invalid data-type in playlist!"):jQuery.ajax({url:b,dataType:"jsonp",success:function(a){f._processYotubeSuccess(a)},error:function(a){f._processYotubeError(a)}})},_processYoutubeSingle:function(a){var b=this;jQuery.ajax({url:a,dataType:"jsonp",success:function(a){b._processYotubeSingleSuccess(a)},error:function(a){b._processYotubeError(a)}})},_processYoutubePlaylistQuery:function(){var a=this;jQuery.ajax({url:this._playlistQueryUrl[this._playlistQueryCounter], dataType:"jsonp",success:function(b){a._processYoutubePlaylistQuerySuccess(b)},error:function(b){a._processYotubeError(b)}})},_processYoutubePlaylistQuerySuccess:function(a){if(a.error)alert(a.error.message);else{var b=a.data.items.length,f=0,e,g;for(f;f<b;f++)(g=a.data.items[f].video)&&g.accessControl&&(e={type:"youtube"},this.useDeeplink&&(e.deeplink=this.currentObj.deeplink+(f+1).toString()),e.id=g.id,e.title=g.title?g.title:"",e.description=g.description?g.description:"",g.thumbnail&&(e.thumbnail= g.thumbnail.hqDefault?g.thumbnail.hqDefault:g.thumbnail.sqDefault),this._videoProcessData.push(e));this._playlistQueryCounter++;this._playlistQueryCounter>this._playlistQueryLength-1?this._buildPlaylist():this._processYoutubePlaylistQuery()}},_processYotubeSuccess:function(a){if(a.error)alert(a.error.message);else{var b=this;if("youtube_channel_query"==this.ytType){var f,l,g=document.createElement("ul"),h,k,m=0,p=b._processPlaylistCounter,n=b.liProcessArr[b._processPlaylistCounter];b.useDeeplink&& b.currentObj.deeplink&&(k=b.currentObj.deeplink);e(a).find("entry").each(function(){h=e(this).children("yt\\:channelId").text();f="<li data-type='youtube_user_uploads' data-path='http://gdata.youtube.com/feeds/api/users/"+h+"/uploads?start-index=1&amp;max-results=50&amp;v=2&amp;format=5&amp;alt=jsonc' ></li>";if(k){var a=" data-address='"+k+"' ";match=f.match(/\>/);f=f.slice(0,match.index)+a+f.slice(match.index)}g.innerHTML=f;l=g.firstChild;b.liProcessArr.splice(p+1,0,e(l));p++;m++});b._processPlaylistLength+= m;b._processPlaylistCounter+=1;b._processPlaylistItem()}else{var v=a.data.items.length,m=0,r;if("youtube_playlist_query"==this.ytType||"youtube_user_playlists"==this.ytType){this._playlistQueryCounter=0;this._playlistQueryUrl=[];this._playlistQueryLength=v;for(m;m<v;m++)n="http://gdata.youtube.com/feeds/api/playlists/"+a.data.items[m].id+"?&start-index=1&max-results=50&v=2&format=5&alt=jsonc",this._playlistQueryUrl.push(n);this._processYoutubePlaylistQuery()}else{for(m;m<v;m++)(n="youtube_user_uploads"== this.ytType||"youtube_video_query"==this.ytType||"youtube_standard_feed"==this.ytType?a.data.items[m]:a.data.items[m].video)&&n.accessControl&&(r={type:"youtube"},this.useDeeplink&&(r.deeplink=this.currentObj.deeplink+(m+1).toString()),r.id=n.id,r.title=n.title?n.title:"",r.description=n.description?n.description:"",n.thumbnail&&(r.thumbnail=n.thumbnail.hqDefault?n.thumbnail.hqDefault:n.thumbnail.sqDefault),this._videoProcessData.push(r));this._buildPlaylist()}}}},_processYotubeSingleSuccess:function(a){var b= {};(a=a.data)&&a.accessControl?(b.type="youtube",this.useDeeplink&&(b.deeplink=this.currentObj.deeplink),b.id=a.id,b.title=a.title?a.title:"",b.description=a.description?a.description:"",a.thumbnail&&(b.thumbnail=a.thumbnail.hqDefault?a.thumbnail.hqDefault:a.thumbnail.sqDefault),this._videoProcessData.push(b),this._buildPlaylist()):checkPlaylistProcess()},_processYotubeError:function(a){},_processVimeo:function(a,b){var f=this;"vimeo_single"==a?this._processVimeoSingle(b):"vimeo_user"!=a&&"vimeo_group"!= a&&"vimeo_channel"!=a&&"vimeo_album"!=a?alert("Invalid data-type in playlist!"):jQuery.ajax({url:b,dataType:"jsonp",success:function(a){f._processVimeoSuccess(a)},error:function(a){f._processVimeoError(a)}})},_processVimeoSingle:function(a){var b=this;jQuery.ajax({url:a,dataType:"jsonp",success:function(a){b._processVimeoSingleSuccess(a)},error:function(a){b._processVimeoError(a)}})},_processVimeoSuccess:function(a){var b=a.length,f=0,e;for(f;f<b;f++)"anywhere"===a[f].embed_privacy&&(e={type:"vimeo"}, this.useDeeplink&&(e.deeplink=this.currentObj.deeplink+(f+1).toString()),e.id=a[f].id,a[f].title&&(e.title=a[f].title),a[f].description&&(e.description=a[f].description),a[f].thumbnail_medium&&(e.thumbnail=a[f].thumbnail_medium),this._videoProcessData.push(e));this._buildPlaylist()},_processVimeoSingleSuccess:function(a){if("anywhere"===a[0].embed_privacy){var b={type:"vimeo"};this.useDeeplink&&(b.deeplink=this.currentObj.deeplink);b.id=a[0].id;a[0].title&&(b.title=a[0].title);a[0].description&&(b.description= a[0].description);a[0].thumbnail_medium&&(b.thumbnail=a[0].thumbnail_medium);this._videoProcessData.push(b);this._buildPlaylist()}else this._checkPlaylistProcess()},_processVimeoError:function(a){alert(a)},_addPlaylistMouseEvents:function(a){var b=this;a.bind("click",function(a){if(!b._componentInited||b._playlistTransitionOn)return!1;a||(a=b._window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=e(a.currentTarget).attr("data-id");if(a!=b._playlistManager.getCounter())return b._enableActiveItem(), b._playlistManager.processPlaylistRequest(a),!1});b.useRollovers&&a.bind("mouseover",function(a){if(!b._componentInited||b._playlistTransitionOn)return!1;a||(a=b._window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=e(a.currentTarget);a.attr("data-id");a.hasClass("playlistNonSelected")?a.removeClass("playlistNonSelected").addClass("playlistSelected"):a.hasClass("playlistNonSelected_mob")&&a.removeClass("playlistNonSelected_mob").addClass("playlistSelected_mob"); return!1}).bind("mouseout",function(a){if(!b._componentInited||b._playlistTransitionOn)return!1;a||(a=b._window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=e(a.currentTarget);if(a.attr("data-id")!=b._playlistManager.getCounter())return a.hasClass("playlistSelected")?a.removeClass("playlistSelected").addClass("playlistNonSelected"):a.hasClass("playlistSelected_mob")&&a.removeClass("playlistSelected_mob").addClass("playlistNonSelected_mob"),!1})},_buildPlaylist:function(){var a= this._videoProcessData.length,b=0,f,l,g,h;if(this.getDeeplinkData){this.dlink=this.baseURL+this.strict+this.firstLevel+"/";var k=this.categoryArr[this.activeCategory].mediaName}for(b;b<a;b++)h=this._videoProcessData[b],this._playlistLength+=1,l=this.mobileLayout?e("<li/>").addClass("playlistNonSelected_mob").css({cursor:"pointer",display:"block"}):e("<li/>").addClass("playlistNonSelected").css({cursor:"pointer",display:"block"}),this.preserveInsert_item?(this.preserveInsert_item.after(l),this.preserveInsert_item= l):(this._currentInsert.after(l),this._currentInsert=l),this._playlistArr[this._playlistLength-1]=l,l.attr({"data-id":this._playlistLength-1,"data-type":h.type,"data-path":h.id,"data-title":h.title?h.title:"","data-address":h.deeplink}),this._addPlaylistMouseEvents(l),this.autoMakePlaylistThumb?(f=e("<div/>").addClass("playlistThumb").appendTo(l),h.thumbnail&&(g=h.thumbnail,e(new Image).appendTo(f).attr("alt",h.title?h.title:"").addClass("thumb").load(function(){}).error(function(a){}).attr("src", g))):this.currentThumb.length&&this.currentThumb.appendTo(l),g=h.description?h.description:"",this.autoMakePlaylistInfo?(f=e('<p><span class="playlistTitle">'+(h.title?h.title:"")+'</span><br><span class="playlistContent">'+g+"</span></p>"),f=e("<div/>").html(f).addClass("playlistInfo").appendTo(l).dotdotdot()):this.currentInfo.length&&this.currentInfo.appendTo(l).dotdotdot(),this._descriptionDataArr[this._playlistLength-1]=g,this.useDeeplink&&this.getDeeplinkData&&(l=this.filterAllowedChars(h.deeplink), k.push(l));this._checkPlaylistProcess()},_enableActiveItem:function(){if(-1!=this._playlistManager.getCounter()){var a=e(this._playlistArr[this._playlistManager.getCounter()]);a&&(a.css("cursor","pointer"),a.hasClass("playlistSelected")?a.removeClass("playlistSelected").addClass("playlistNonSelected"):a.hasClass("playlistSelected_mob")&&a.removeClass("playlistSelected_mob").addClass("playlistNonSelected_mob"))}},_disableActiveItem:function(){var a=e(this._playlistArr[this._playlistManager.getCounter()]); a&&(a.css("cursor","default"),a.hasClass("playlistNonSelected")?a.removeClass("playlistNonSelected").addClass("playlistSelected"):a.hasClass("playlistNonSelected_mob")&&a.removeClass("playlistNonSelected_mob").addClass("playlistSelected_mob"))},_mediaAdvance:function(){this._enableActiveItem();this._playlistManager.advanceHandler(1,!0)},_findMedia:function(){this._cleanMedia();this.activeItem=this._playlistArr[this._playlistManager.getCounter()];this._mediaPath=this.activeItem.attr("data-path");this._mediaType= this.activeItem.attr("data-type");if("local"==this._mediaType)if(this._mediaPath=this.activeItem.attr("data-mp4"),this.autoPlay)this.html5Support?(this._resizeControls(),this._initLocal()):("undefined"!==typeof this.getFlashMovie("flashPreview")&&"undefined"!==typeof this.getFlashMovie("flashPreview").pb_play&&this.getFlashMovie("flashPreview").pb_play(this._mediaPath,this.aspectRatio),this._resizeControls(),this.videoInited=!0);else if(this.html5Support)this.loadPreview();else{var a=this.activeItem.attr("data-poster"); "undefined"!==typeof this.getFlashMovie("flashPreview")&&"undefined"!==typeof this.getFlashMovie("flashPreview").pb_loadPreview&&this.getFlashMovie("flashPreview").pb_loadPreview(a)}else"vimeo"==this._mediaType?this._initVimeo():"youtube"==this._mediaType?this._initYoutube():alert("Wrong data-type in playlist!")},_cleanMedia:function(){if("local"==this._mediaType){this.hideControls();if(this.html5Support){if(this.videoUp2Js){this.videoUp2Js.pause();try{this.videoUp2Js.currentTime=0}catch(a){}this.videoUp2Js.src= ""}this.video&&this.video.unbind("ended loadedmetadata waiting playing play pause");this.mediaHolder.css("display","none");!this.isMobile&this.html5Support&&(this.mediaHolder.html(""),this.html5video_inited=!1)}else"undefined"!==typeof this.getFlashMovie("flashPreview")&&"undefined"!==typeof this.getFlashMovie("flashPreview").pb_dispose&&this.getFlashMovie("flashPreview").pb_dispose();this.bigPlay&&this.bigPlay.css("display","none");this.mediaPreloader&&this.mediaPreloader.css("display","none");this.previewPoster&& (this.previewPoster.remove(),this.previewPoster=null);this.resetData();this.videoInited=this.mediaPlaying=!1}else"vimeo"==this._mediaType?this._vimeoPlayer&&this._vimeoPlayer.clean():"youtube"==this._mediaType&&(this._youtubePlayer&&this._youtubePlayer.stop(),this._hideYT())},_setVolume:function(){"local"==this._mediaType?(this.volume_level.width(this.defaultVolume*this.volumeSize),this.html5Support?this.videoUp2Js.volume=this.defaultVolume:"undefined"!==typeof this.getFlashMovie("flashPreview")&& "undefined"!==typeof this.getFlashMovie("flashPreview").pb_setVolume&&this.getFlashMovie("flashPreview").pb_setVolume(this.defaultVolume)):"vimeo"==this._mediaType?this._vimeoPlayer&&this._vimeoPlayer.setVolume(this.defaultVolume):"youtube"==this._mediaType&&this._youtubePlayer&&this._youtubePlayer.setVolume(this.defaultVolume)},_initLocal:function(){var a=this;this.mp4Support?this._mediaPath=this.activeItem.attr("data-mp4"):this.vorbisSupport?this._mediaPath=this.activeItem.attr("data-ogv"):this.webmSupport&& (this._mediaPath=this.activeItem.attr("data-webm"));if(this.html5video_inited)this.mediaHolder.css("display","block"),this.videoUp2Js.src=this._mediaPath,this.videoUp2Js.load();else{var b="";this.mp4Support?(this.isAndroid?b=b+'<video class="video_cont" width="100%" height="100%" >'+('<source src="'+this._mediaPath+'" />'):(b+='<video class="video_cont" width="100%" height="100%" >',b+='<source src="'+this._mediaPath+'" type="video/mp4" />'),b+="</video>"):this.vorbisSupport?(this.isAndroid?(b+= '<video class="video_cont" width="100%" height="100%" >',b+='<source src="'+this._mediaPath+'" />'):(b+='<video class="video_cont" width="100%" height="100%" >',b+='<source src="'+this._mediaPath+'" type="video/ogg" />'),b+="</video>"):this.webMsupport&&(this.isAndroid?(b+='<video class="video_cont" width="100%" height="100%" >',b+='<source src="'+this._mediaPath+'" />'):(b+='<video class="video_cont" width="100%" height="100%" >',b+='<source src="'+this._mediaPath+'" type="video/webm" />'),b+= "</video>");this.mediaHolder.css("display","block").html(b);this.video=this.mediaHolder.find(".video_cont");this.videoUp2Js=this.video[0]}this.videoUp2Js.volume=this.defaultVolume;this.video.css("position","absolute").bind("ended",function(){if(a._autoAdvanceToNextVideo)a._mediaAdvance();else{try{a.videoUp2Js.currentTime=0}catch(b){}a.videoUp2Js.paused&&a.videoUp2Js.play();a.autoPlay||a.videoUp2Js.pause()}}).bind("loadedmetadata",function(){a.resizeVideo();a.dataIntervalID&&clearInterval(a.dataIntervalID); a.dataIntervalID=setInterval(function(){isNaN(a.videoUp2Js.currentTime)||isNaN(a.videoUp2Js.duration)||a.player_mediaTime.html(a.formatCurrentTime(a.videoUp2Js.currentTime)+a.formatDuration(a.videoUp2Js.duration));if(!a.seekBarDown){a.progress_level.css("width",a.videoUp2Js.currentTime/a.videoUp2Js.duration*a.seekBarSize+"px");try{var b=Math.floor(a.videoUp2Js.buffered.end(0))}catch(e){}b/=Math.floor(a.videoUp2Js.duration);isNaN(b)||a.load_level.css("width",b*a.seekBarSize+"px")}},a.dataInterval); a.videoUp2Js.play();a.videoInited=!0;a.isMobile&&a.initialAutoplay&&(a.autoPlay=!0);a.showControls();a.isIOS&&a._resizeControls()}).bind("waiting",function(){a.mediaPreloader&&a.mediaPreloader.css("display","block")}).bind("playing",function(){a.mediaPreloader&&a.mediaPreloader.css("display","none")}).bind("play",function(){a.componentWrapper.find(".player_playControl").find("img").attr("src",a.ic_pause);a.bigPlay&&a.bigPlay.css("display","none");a.mediaPlaying=!0}).bind("pause",function(){a.componentWrapper.find(".player_playControl").find("img").attr("src", a.ic_play);a.bigPlay&&a.bigPlay.css("display","block");a.mediaPlaying=!1});this.isIOS&&!this.html5video_inited?(this.videoUp2Js.src=this._mediaPath,this.videoUp2Js.load()):this.isAndroid&&!this.html5video_inited&&(this.videoUp2Js.play(),this.bigPlay&&this.bigPlay.css("display","none"),this.previewPoster&&this.previewPoster.stop().animate({opacity:0},{duration:500,easing:"easeOutSine",complete:function(){a.previewPoster.remove();a.previewPoster=null}}),this.videoInited=!0,this.showControls());this.html5video_inited= !0},_initVimeo:function(){var a=this;this._vimeoInited?this._vimeoPlayer.initVideo(this._mediaPath):(this._vimeoPlayer=e.vimeoPlayer({autoPlay:this.vim_autoPlay,defaultVolume:this.defaultVolume,mediaPath:this._mediaPath,vimeoHolder:this.vimeoHolder,isMobile:this.isMobile,initialAutoplay:this.initialAutoplay}),e(this._vimeoPlayer).bind("ap_VimeoPlayer.VIMEO_READY",function(){}),e(this._vimeoPlayer).bind("ap_VimeoPlayer.START_PLAY",function(){a.mediaPlaying=!0}),e(this._vimeoPlayer).bind("ap_VimeoPlayer.VIMEO_PLAY", function(){a.mediaPlaying=!0}),e(this._vimeoPlayer).bind("ap_VimeoPlayer.VIMEO_PAUSE",function(){a.mediaPlaying=!1}),e(this._vimeoPlayer).bind("ap_VimeoPlayer.END_PLAY",function(){a._autoAdvanceToNextVideo?a._mediaAdvance():a.isMobile?a.initialAutoplay&&a._vimeoPlayer.play():a.vim_autoPlay&&a._vimeoPlayer.play()}),this._vimeoInited=!0)},_initYoutube:function(){var a=this;a._showYT();this._youtubeInited?this._youtubePlayer.initVideo(this._mediaPath):(this._youtubePlayer=e.youtubePlayer({autoPlay:this.yt_autoPlay, defaultVolume:this.defaultVolume,mediaPath:this._mediaPath,youtubeHolder:this.youtubeHolder,youtubeChromeless:this._youtubeChromeless,isMobile:this.isMobile,initialAutoplay:this.initialAutoplay,quality:this.useYoutubeHighestQuality}),e(this._youtubePlayer).bind("ap_YoutubePlayer.FORCE_MAIN_STOP",function(){a._hideYT()}),e(this._youtubePlayer).bind("ap_YoutubePlayer.YT_READY",function(){}),e(this._youtubePlayer).bind("ap_YoutubePlayer.START_PLAY",function(){a.mediaPlaying=!0}),e(this._youtubePlayer).bind("ap_YoutubePlayer.STATE_PLAYING", function(){a.mediaPlaying=!0}),e(this._youtubePlayer).bind("ap_YoutubePlayer.STATE_PAUSED",function(){a.mediaPlaying=!1}),e(this._youtubePlayer).bind("ap_YoutubePlayer.END_PLAY",function(){a._autoAdvanceToNextVideo?a._mediaAdvance():a.isMobile?a.initialAutoplay&&a._youtubePlayer.play():a.yt_autoPlay&&a._youtubePlayer.play()}),this._youtubeInited=!0)},_showYT:function(){this.isIE?this._setYTSizeIE():this.youtubeHolder.css("left","0px")},_setYTSizeIE:function(){if(this.isIE){var a=this._getPlayerSize("w"), b=this._getPlayerSize("h");this.youtubeHolder.css({width:a+2+"px",height:b+2+"px",left:"-1px",top:"-1px"})}},_hideYT:function(){this.youtubeHolder.css("left","-10000px")},_getComponentSize:function(a){return"w"==a?"normal"==this.componentSize?this.componentWrapper.width():this.getDocumentWidth():"normal"==this.componentSize?this.componentWrapper.height():this.getDocumentHeight()},_getPlayerSize:function(a){return"w"==a?this.playerHolder.width():this.playerHolder.height()},getDocumentWidth:function(){return Math.max(e(window).width(), document.documentElement.clientWidth)},getDocumentHeight:function(){return Math.max(e(window).height(),document.documentElement.clientHeight)},_preventSelect:function(a){e(a).each(function(){e(this).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})},_doneResizing:function(){"fullscreen"==this.componentSize&&this.resizeComponent();this._componentWidth=this._getComponentSize("w");this._componentHeight= this._getComponentSize("h");if(this.fullSize)"right"==this.playlistPosition?this._componentWidth<=this.widthSizeLimit?(this.playlistHolder.css({width:"112px"}),this.componentPlaylist.css({width:"102px",height:this._componentHeight-10+"px"}),this.playerHolder.css({width:this._componentWidth-this.playlistHolder.width()+"px"})):(this.playlistHolder.css({width:this.playlistHolderOrigW+"px"}),this.componentPlaylist.css({width:this.playlistHolderOrigW-10+"px",height:this._componentHeight-10+"px"}),this.playerHolder.css({width:this._componentWidth- this.playlistHolderOrigW+"px"})):"bottom"==this.playlistPosition&&(this.playerHolder.css({height:this._componentHeight-this.playlistHolderOrigH+"px"}),this.componentPlaylist.css({width:this._componentWidth-10+"px"}));else if("right"==this.playlistPosition)if(this.componentInnerWrapperOrigW>=this._componentWidth||this.componentInnerWrapperOrigH>=this._componentHeight){var a=this.retrieveObjectRatio2(!0,this.playerHolder.width(),this.playerHolder.height());this._componentWidth<=this.widthSizeLimit|| this._componentHeight<=this.heightSizeLimit?(this.playlistHolder.css({height:a.height+"px",width:"112px"}),this.componentPlaylist.css({height:a.height-10+"px",width:"102px"})):(this.playlistHolder.css({height:a.height+"px",width:this.playlistHolderOrigW+"px"}),this.componentPlaylist.css({height:a.height-10+"px",width:this.playlistHolderOrigW-10+"px"}));this.componentInnerWrapperCurrW=a.width+this.playlistHolder.width();this.componentInnerWrapperCurrH=a.height;this.playerHolderCurrW=a.width;this.playerHolderCurrH= a.height;this.componentInnerWrapper.css({width:this.componentInnerWrapperCurrW+"px",marginLeft:-this.componentInnerWrapperCurrW/2+"px",height:this.componentInnerWrapperCurrH+"px",marginTop:-this.componentInnerWrapperCurrH/2+"px"});this.playerHolder.css({width:a.width+"px",height:a.height+"px"})}else this.componentInnerWrapperCurrW=this.componentInnerWrapperOrigW,this.componentInnerWrapperCurrH=this.componentInnerWrapperOrigH,this.playerHolderCurrW=this.playerHolderOrigW,this.playerHolderCurrH=this.playerHolderOrigH, this.componentInnerWrapper.css({width:this.componentInnerWrapperOrigW+"px",marginLeft:-this.componentInnerWrapperOrigW/2+"px",height:this.componentInnerWrapperOrigH+"px",marginTop:-this.componentInnerWrapperOrigH/2+"px"}),this.playerHolder.css({width:this.playerHolderOrigW+"px",height:this.playerHolderOrigH+"px"}),this.playlistHolder.css({height:this.playerHolderCurrH+"px",width:this.playlistHolderOrigW+"px"}),this.componentPlaylist.css({height:this.playerHolderCurrH-10+"px",width:this.playlistHolderOrigW- 10+"px"});else"bottom"==this.playlistPosition&&(this.componentInnerWrapperOrigW>=this._componentWidth||this.componentInnerWrapperOrigH>=this._componentHeight?(a=this.retrieveObjectRatio2(!0,this.playerHolder.width(),this.playerHolder.height()),this.componentInnerWrapperCurrW=a.width,this.componentInnerWrapperCurrH=a.height+this.playlistHolder.height(),this.playerHolderCurrW=a.width,this.playerHolderCurrH=a.height,this.componentInnerWrapper.css({width:a.width+"px",marginLeft:-a.width/2+"px",height:a.height+ this.playlistHolder.height()+"px",marginTop:-(a.height+this.playlistHolder.height())/2+"px"}),this.playerHolder.css({width:a.width+"px",height:a.height+"px"}),this.playlistHolder.css({width:a.width+"px"}),this.componentPlaylist.css({width:a.width-10+"px"})):(this.componentInnerWrapperCurrW=this.componentInnerWrapperOrigW,this.componentInnerWrapperCurrH=this.componentInnerWrapperOrigH,this.playerHolderCurrW=this.componentInnerWrapperOrigW,this.playerHolderCurrH=this.playerHolderOrigH,this.componentInnerWrapper.css({width:this.componentInnerWrapperOrigW+ "px",marginLeft:-this.componentInnerWrapperOrigW/2+"px",height:this.componentInnerWrapperOrigH+"px",marginTop:-this.componentInnerWrapperOrigH/2+"px"}),this.playerHolder.css({width:this.componentInnerWrapperOrigW+"px",height:this.playerHolderOrigH+"px"}),this.playlistHolder.css({width:this.componentInnerWrapperOrigW+"px"}),this.componentPlaylist.css({width:this.componentInnerWrapperOrigW-10+"px"})));this._mediaType&&("local"==this._mediaType?(this.previewPoster&&this.resizePreview(),this.html5Support&& this.videoInited&&this.resizeComponent(),this._resizeControls()):"youtube"==this._mediaType&&this.isIE&&this._setYTSizeIE());this._checkPlaylistSize()},_resizeControls:function(){if(this.fullSize)"right"==this.playlistPosition?a="normal"==this.componentSize?this._getComponentSize("w")-this.playlistHolder.width():this._getComponentSize("w"):"bottom"==this.playlistPosition&&(a=this._getComponentSize("w"));else var a="normal"==this.componentSize?this._getComponentSize("w")<this.playerHolderCurrW?this._getComponentSize("w"): this.playerHolderCurrW:this._getComponentSize("w");this.playerControls.width(a-this.controlsMediaWidthDiff);this.controlsSeekbarDiff=this._getControlsSeekbarDiff();this.seekBarSize=this.playerControls.width()-this.controlsSeekbarDiff;this.progress_bg.width(this.seekBarSize);this.player_progress.width(this.seekBarSize+20);if(!this.html5Support){var b=a-this.controlsMediaWidthDiff,e=b-this.controlsSeekbarDiff;"undefined"!==typeof this.getFlashMovie("flashPreview")&&"undefined"!==typeof this.getFlashMovie("flashPreview").pb_resizeControls&& this.getFlashMovie("flashPreview").pb_resizeControls(b,e)}400>=a?(this.player_mediaTime.css("display","none"),this.noTime=!0,this.controlsSeekbarDiff=this._getControlsSeekbarDiff(),this.seekBarSize=this.playerControls.width()-this.controlsSeekbarDiff,this.progress_bg.width(this.seekBarSize),this.player_progress.width(this.seekBarSize+20),this.html5Support||"undefined"!==typeof this.getFlashMovie("flashPreview")&&"undefined"!==typeof this.getFlashMovie("flashPreview").pb_hideTime&&this.getFlashMovie("flashPreview").pb_hideTime(this.seekBarSize, this.controlsSeekbarDiff)):(this.player_mediaTime.css("display","block"),this.noTime=!1,this.controlsSeekbarDiff=this._getControlsSeekbarDiff(),this.seekBarSize=this.playerControls.width()-this.controlsSeekbarDiff,this.progress_bg.width(this.seekBarSize),this.player_progress.width(this.seekBarSize+20),this.html5Support||"undefined"!==typeof this.getFlashMovie("flashPreview")&&"undefined"!==typeof this.getFlashMovie("flashPreview").pb_showTime&&this.getFlashMovie("flashPreview").pb_showTime(this.seekBarSize, this.controlsSeekbarDiff))},_getControlsSeekbarDiff:function(){var a;if(this.noFS)b=280-this.no_fs_move,e=195-this.no_fs_move,l=180-this.no_fs_move,g=95-this.no_fs_move;else var b=280,e=195,l=180,g=95;this.noVolume&&!this.noTime?a=l:!this.noVolume&&this.noTime?a=e:this.noVolume&&this.noTime?a=g:this.noVolume||this.noTime||(a=b);return a},_checkPlaylistSize:function(){if(!this.fullSize)if(this._componentWidth<=this.widthSizeLimit||this._componentHeight<=this.heightSizeLimit){var a=0,b=this._playlistArr.length, e;for(a;a<b;a++)(e=this._playlistArr[a])&&e.removeClass("playlistSelected_mob").removeClass("playlistNonSelected_mob").removeClass("playlistSelected").removeClass("playlistNonSelected").addClass("playlistNonSelected_mob");this._playlistArr[this._playlistManager.getCounter()]&&this._playlistArr[this._playlistManager.getCounter()].addClass("playlistSelected_mob")}else{a=0;b=this._playlistArr.length;for(a;a<b;a++)(e=this._playlistArr[a])&&e.removeClass("playlistSelected_mob").removeClass("playlistNonSelected_mob").removeClass("playlistSelected").removeClass("playlistNonSelected").addClass("playlistNonSelected"); this._playlistArr[this._playlistManager.getCounter()]&&this._playlistArr[this._playlistManager.getCounter()].addClass("playlistSelected")}else if("right"==this.playlistPosition)if(this._componentWidth<=this.widthSizeLimit){a=0;b=this._playlistArr.length;for(a;a<b;a++)(e=this._playlistArr[a])&&e.removeClass("playlistSelected_mob").removeClass("playlistNonSelected_mob").removeClass("playlistSelected").removeClass("playlistNonSelected").addClass("playlistNonSelected_mob");this._playlistArr[this._playlistManager.getCounter()]&& this._playlistArr[this._playlistManager.getCounter()].addClass("playlistSelected_mob")}else{a=0;b=this._playlistArr.length;for(a;a<b;a++)(e=this._playlistArr[a])&&e.removeClass("playlistSelected_mob").removeClass("playlistNonSelected_mob").removeClass("playlistSelected").removeClass("playlistNonSelected").addClass("playlistNonSelected");this._playlistArr[this._playlistManager.getCounter()]&&this._playlistArr[this._playlistManager.getCounter()].addClass("playlistSelected")}else if("bottom"==this.playlistPosition)if(this._componentWidth<= this.widthSizeLimit){a=0;b=this._playlistArr.length;for(a;a<b;a++)(e=this._playlistArr[a])&&e.removeClass("playlistSelected_mob").removeClass("playlistNonSelected_mob").removeClass("playlistSelected").removeClass("playlistNonSelected").addClass("playlistNonSelected_mob");this._playlistArr[this._playlistManager.getCounter()]&&this._playlistArr[this._playlistManager.getCounter()].addClass("playlistSelected_mob")}else{a=0;b=this._playlistArr.length;for(a;a<b;a++)(e=this._playlistArr[a])&&e.removeClass("playlistSelected_mob").removeClass("playlistNonSelected_mob").removeClass("playlistSelected").removeClass("playlistNonSelected").addClass("playlistNonSelected"); this._playlistArr[this._playlistManager.getCounter()]&&this._playlistArr[this._playlistManager.getCounter()].addClass("playlistSelected")}this._checkScroll(0)},retrieveObjectRatio2:function(a,b,e){var l=this._componentWidth<=this.widthSizeLimit||this._componentHeight<=this.heightSizeLimit?"vertical"==this._thumbOrientation?112:0:"vertical"==this._thumbOrientation?this.playlistHolderOrigW:0,g="horizontal"==this._thumbOrientation?this.playlistHolder.height():0,h=this._getComponentSize("w"),k=this._getComponentSize("h"), m={},p=(h-l)/(k-g),n=this.playerRatio;n<p?a?(m.width=(k-g)/e*b,m.height=k-g):(m.height=(h-l)/b*e,m.width=h-l):n>p?a?(m.height=(h-l)/b*e,m.width=h-l):(m.width=(k-g)/e*b,m.height=k-g):(m.width=h-l,m.height=k-g);return m}};e.fn.videoGallery=function(a){return this.each(function(){e.fn.videoGallery.playMedia=function(){b.playMedia()};e.fn.videoGallery.pauseMedia=function(){b.pauseMedia()};e.fn.videoGallery.nextMedia=function(){b.nextMedia()};e.fn.videoGallery.previousMedia=function(){b.previousMedia()}; e.fn.videoGallery.destroyMedia=function(){b.destroyMedia()};e.fn.videoGallery.setVolume=function(a){b.setVolume(a)};e.fn.videoGallery.loadMedia=function(a){b.loadMedia(a)};e.fn.videoGallery.getDescription=function(a){return b.getDescription(a)};e.fn.videoGallery.flashResizeControls=function(){b.flashResizeControls()};e.fn.videoGallery.flashMainPreviewOff=function(){b.flashMainPreviewOff()};e.fn.videoGallery.flashVideoPause=function(){b.flashVideoPause()};e.fn.videoGallery.flashVideoResume=function(){b.flashVideoResume()}; e.fn.videoGallery.flashVideoEnd=function(){b.flashVideoEnd()};e.fn.videoGallery.flashVideoStart=function(){b.flashVideoStart()};e.fn.videoGallery.dataUpdateFlash=function(){b.dataUpdateFlash(bl,bt,t,d)};var b=new z(e(this),a);e(this).data("videoGallery",b)})};e.fn.videoGallery.defaults={defaultVolume:0.5,autoPlay:!1,loopingOn:!0,randomPlay:!1,autoAdvanceToNextVideo:!0,autoMakePlaylistThumb:!0,autoMakePlaylistInfo:!0,outputPlaylistData:!1,videoGallerySetupDone:function(){}};e.fn.videoGallery.settings= {}})(jQuery);